<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800" width="1200" height="800">
  <defs>
    <!-- Shadow filter for depth -->
    <filter id="shadow1" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="4" stdDeviation="4" flood-color="#1E3A8A" flood-opacity="0.15"/>
    </filter>
    <filter id="shadow2" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="4" stdDeviation="4" flood-color="#0F766E" flood-opacity="0.15"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94A3B8"/>
    </marker>
    <marker id="arrowhead-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3B82F6"/>
    </marker>
    <marker id="arrowhead-teal" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#14B8A6"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="800" fill="#F8FAFC"/>

  <!-- Title -->
  <text x="600" y="45" font-family="system-ui, -apple-system, sans-serif" font-size="28" font-weight="700" fill="#0F172A" text-anchor="middle">SOVEREIGN DIGITAL GOVERNANCE STACK</text>
  <text x="600" y="70" font-family="system-ui, -apple-system, sans-serif" font-size="16" fill="#64748B" text-anchor="middle">High-Level Ecosystem Architecture</text>

  <!-- Left Pillar: CSIC (Financial Governance) -->
  <g transform="translate(50, 120)">
    <!-- Pillar Container -->
    <rect x="0" y="0" width="480" height="550" rx="12" fill="#1E3A8A" filter="url(#shadow1)"/>
    <rect x="0" y="0" width="480" height="40" rx="12" fill="#1E40AF"/>
    <rect x="0" y="28" width="480" height="12" fill="#1E3A8A"/>

    <!-- Pillar Header -->
    <text x="240" y="28" font-family="system-ui, -apple-system, sans-serif" font-size="18" font-weight="700" fill="#FFFFFF" text-anchor="middle">CSIC</text>
    <text x="240" y="48" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#93C5FD" text-anchor="middle">Crypto-State Infrastructure Contractor</text>

    <!-- Sub-container: Financial Governance -->
    <g transform="translate(20, 70)">
      <rect x="0" y="0" width="200" height="140" rx="8" fill="#2563EB" opacity="0.9"/>
      <text x="100" y="25" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#FFFFFF" text-anchor="middle">Financial Governance</text>
      <circle cx="30" cy="55" r="18" fill="#60A5FA"/>
      <text x="30" y="60" font-family="system-ui, -apple-system, sans-serif" font-size="16" fill="#FFFFFF" text-anchor="middle">$</text>
      <text x="55" y="52" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#DBEAFE">Transaction</text>
      <text x="55" y="67" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#DBEAFE">Monitoring</text>
      <text x="55" y="85" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#93C5FD">Wallet Profiling</text>
      <text x="55" y="100" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#93C5FD">Risk Scoring</text>
    </g>

    <!-- Sub-container: Treasury -->
    <g transform="translate(240, 70)">
      <rect x="0" y="0" width="200" height="140" rx="8" fill="#2563EB" opacity="0.9"/>
      <text x="100" y="25" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#FFFFFF" text-anchor="middle">Treasury</text>
      <rect x="30" y="45" width="36" height="30" rx="3" fill="#60A5FA"/>
      <rect x="30" y="85" width="36" height="20" rx="2" fill="#60A5FA"/>
      <text x="80" y="62" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#DBEAFE">CBDC Integration</text>
      <text x="80" y="82" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#DBEAFE">Asset Management</text>
      <text x="80" y="102" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#93C5FD">Liquidity Controls</text>
    </g>

    <!-- Sub-container: Contractor Interface -->
    <g transform="translate(20, 230)">
      <rect x="0" y="0" width="420" height="100" rx="8" fill="#2563EB" opacity="0.9"/>
      <text x="210" y="25" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#FFFFFF" text-anchor="middle">Contractor Interface</text>
      <rect x="30" y="40" width="80" height="45" rx="4" fill="#60A5FA"/>
      <text x="70" y="68" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">Licensing</text>
      <rect x="125" y="40" width="80" height="45" rx="4" fill="#60A5FA"/>
      <text x="165" y="68" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">Compliance</text>
      <rect x="220" y="40" width="80" height="45" rx="4" fill="#60A5FA"/>
      <text x="260" y="68" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">Enforcement</text>
      <rect x="315" y="40" width="80" height="45" rx="4" fill="#60A5FA"/>
      <text x="355" y="68" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">Reporting</text>
    </g>

    <!-- Sub-container: Security Layer -->
    <g transform="translate(20, 350)">
      <rect x="0" y="0" width="420" height="80" rx="8" fill="#1E40AF" opacity="0.8"/>
      <text x="210" y="22" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#FFFFFF" text-anchor="middle">Security Infrastructure</text>
      <rect x="30" y="35" width="90" height="32" rx="4" fill="#3B82F6"/>
      <text x="75" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">IAM</text>
      <rect x="135" y="35" width="90" height="32" rx="4" fill="#3B82F6"/>
      <text x="180" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">HSM</text>
      <rect x="240" y="35" width="90" height="32" rx="4" fill="#3B82F6"/>
      <text x="285" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">Key Mgmt</text>
      <rect x="345" y="35" width="50" height="32" rx="4" fill="#3B82F6"/>
      <text x="370" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">Audit</text>
    </g>

    <!-- Mining Control Module -->
    <g transform="translate(20, 450)">
      <rect x="0" y="0" width="420" height="80" rx="8" fill="#1E40AF" opacity="0.6"/>
      <text x="210" y="22" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#FFFFFF" text-anchor="middle">Mining Control Infrastructure</text>
      <rect x="30" y="35" width="120" height="32" rx="4" fill="#60A5FA"/>
      <text x="90" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">Stratum Proxy</text>
      <rect x="165" y="35" width="120" height="32" rx="4" fill="#60A5FA"/>
      <text x="225" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">Hashrate Monitor</text>
      <rect x="300" y="35" width="95" height="32" rx="4" fill="#60A5FA"/>
      <text x="347" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">Energy Policy</text>
    </g>
  </g>

  <!-- Center Bridge: Integration Layer -->
  <g transform="translate(550, 180)">
    <!-- Bridge Container -->
    <rect x="0" y="0" width="140" height="430" rx="12" fill="#64748B" filter="url(#shadow1)"/>
    <rect x="0" y="0" width="140" height="35" rx="12" fill="#475569"/>
    <rect x="0" y="23" width="140" height="12" fill="#64748B"/>

    <!-- Bridge Header -->
    <text x="70" y="24" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="700" fill="#FFFFFF" text-anchor="middle">INTEGRATION</text>
    <text x="70" y="42" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#CBD5E1" text-anchor="middle">Signal Gateway</text>

    <!-- Signal Contracts -->
    <g transform="translate(20, 60)">
      <rect x="0" y="0" width="100" height="55" rx="6" fill="#94A3B8"/>
      <text x="50" y="18" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="600" fill="#FFFFFF" text-anchor="middle">Financial</text>
      <text x="50" y="32" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="600" fill="#FFFFFF" text-anchor="middle">Risk Signal</text>
      <rect x="35" y="38" width="30" height="10" rx="2" fill="#E2E8F0"/>
    </g>

    <g transform="translate(20, 130)">
      <rect x="0" y="0" width="100" height="55" rx="6" fill="#94A3B8"/>
      <text x="50" y="18" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="600" fill="#FFFFFF" text-anchor="middle">Macro</text>
      <text x="50" y="32" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="600" fill="#FFFFFF" text-anchor="middle">Economic Signal</text>
      <rect x="35" y="38" width="30" height="10" rx="2" fill="#E2E8F0"/>
    </g>

    <!-- Inter-system Messaging -->
    <g transform="translate(20, 200)">
      <rect x="0" y="0" width="100" height="180" rx="6" fill="#94A3B8"/>
      <text x="50" y="20" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="600" fill="#FFFFFF" text-anchor="middle">Inter-system</text>
      <text x="50" y="34" font-family="system-ui, -apple-system, sans-serif" font-size="10" font-weight="600" fill="#FFFFFF" text-anchor="middle">Messaging</text>
      <rect x="15" y="45" width="70" height="20" rx="3" fill="#CBD5E1"/>
      <text x="50" y="59" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="#1E293B">Kafka</text>
      <rect x="15" y="72" width="70" height="20" rx="3" fill="#CBD5E1"/>
      <text x="50" y="86" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="#1E293B">REST API</text>
      <rect x="15" y="99" width="70" height="20" rx="3" fill="#CBD5E1"/>
      <text x="50" y="113" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="#1E293B">gRPC</text>
      <rect x="15" y="126" width="70" height="20" rx="3" fill="#CBD5E1"/>
      <text x="50" y="140" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="#1E293B">WebSocket</text>
      <rect x="15" y="153" width="70" height="20" rx="3" fill="#CBD5E1"/>
      <text x="50" y="167" font-family="system-ui, -apple-system, sans-serif" font-size="8" fill="#1E293B">Events</text>
    </g>
  </g>

  <!-- Right Pillar: NEAM (Economic Resilience) -->
  <g transform="translate(710, 120)">
    <!-- Pillar Container -->
    <rect x="0" y="0" width="440" height="550" rx="12" fill="#0F766E" filter="url(#shadow2)"/>
    <rect x="0" y="0" width="440" height="40" rx="12" fill="#0D9488"/>
    <rect x="0" y="28" width="440" height="12" fill="#0F766E"/>

    <!-- Pillar Header -->
    <text x="220" y="28" font-family="system-ui, -apple-system, sans-serif" font-size="18" font-weight="700" fill="#FFFFFF" text-anchor="middle">NEAM</text>
    <text x="220" y="48" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#5EEAD4" text-anchor="middle">National Economic Activity Monitor</text>

    <!-- Sub-container: Economic Monitor -->
    <g transform="translate(20, 70)">
      <rect x="0" y="0" width="190" height="140" rx="8" fill="#14B8A6" opacity="0.9"/>
      <text x="95" y="25" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#FFFFFF" text-anchor="middle">Economic Monitor</text>
      <polyline points="25,80 45,65 65,75 85,55 105,70 125,45 145,60 165,50" fill="none" stroke="#FFFFFF" stroke-width="2"/>
      <circle cx="25" cy="80" r="3" fill="#FFFFFF"/>
      <circle cx="45" cy="65" r="3" fill="#FFFFFF"/>
      <circle cx="65" cy="75" r="3" fill="#FFFFFF"/>
      <circle cx="85" cy="55" r="3" fill="#FFFFFF"/>
      <circle cx="105" cy="70" r="3" fill="#FFFFFF"/>
      <circle cx="125" cy="45" r="3" fill="#FFFFFF"/>
      <circle cx="145" cy="60" r="3" fill="#FFFFFF"/>
      <circle cx="165" cy="50" r="3" fill="#FFFFFF"/>
      <text x="25" y="100" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#CCFBF1">GDP Tracking</text>
      <text x="25" y="115" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#CCFBF1">Inflation Analysis</text>
    </g>

    <!-- Sub-container: Resilience Metrics -->
    <g transform="translate(230, 70)">
      <rect x="0" y="0" width="190" height="140" rx="8" fill="#14B8A6" opacity="0.9"/>
      <text x="95" y="25" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#FFFFFF" text-anchor="middle">Resilience Metrics</text>
      <rect x="30" y="45" width="130" height="15" rx="3" fill="#5EEAD4"/>
      <rect x="30" y="65" width="100" height="15" rx="3" fill="#5EEAD4"/>
      <rect x="30" y="85" width="115" height="15" rx="3" fill="#5EEAD4"/>
      <text x="30" y="118" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#CCFBF1">Stability Index</text>
      <text x="30" y="133" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#CCFBF1">Risk Assessment</text>
    </g>

    <!-- Sub-container: Activity Sensors -->
    <g transform="translate(20, 230)">
      <rect x="0" y="0" width="400" height="100" rx="8" fill="#14B8A6" opacity="0.9"/>
      <text x="200" y="25" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="600" fill="#FFFFFF" text-anchor="middle">Activity Sensors</text>
      <rect x="20" y="40" width="70" height="45" rx="4" fill="#5EEAD4"/>
      <text x="55" y="67" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#0F766E" text-anchor="middle">Energy</text>
      <rect x="105" y="40" width="70" height="45" rx="4" fill="#5EEAD4"/>
      <text x="140" y="67" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#0F766E" text-anchor="middle">Industrial</text>
      <rect x="190" y="40" width="70" height="45" rx="4" fill="#5EEAD4"/>
      <text x="225" y="67" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#0F766E" text-anchor="middle">Transport</text>
      <rect x="275" y="40" width="70" height="45" rx="4" fill="#5EEAD4"/>
      <text x="310" y="67" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#0F766E" text-anchor="middle">Payments</text>
    </g>

    <!-- Sub-container: Intelligence Layer -->
    <g transform="translate(20, 350)">
      <rect x="0" y="0" width="400" height="80" rx="8" fill="#0D9488" opacity="0.9"/>
      <text x="200" y="22" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#FFFFFF" text-anchor="middle">Intelligence Layer</text>
      <rect x="25" y="35" width="85" height="32" rx="4" fill="#5EEAD4"/>
      <text x="67" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#0F766E" text-anchor="middle">Anomaly</text>
      <text x="67" y="67" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#0F766E" text-anchor="middle">Detection</text>
      <rect x="125" y="35" width="85" height="32" rx="4" fill="#5EEAD4"/>
      <text x="167" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#0F766E" text-anchor="middle">Correlation</text>
      <rect x="225" y="35" width="85" height="32" rx="4" fill="#5EEAD4"/>
      <text x="267" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#0F766E" text-anchor="middle">Forecasting</text>
      <rect x="325" y="35" width="60" height="32" rx="4" fill="#5EEAD4"/>
      <text x="355" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#0F766E" text-anchor="middle">Simulation</text>
    </g>

    <!-- Intervention Module -->
    <g transform="translate(20, 450)">
      <rect x="0" y="0" width="400" height="80" rx="8" fill="#0D9488" opacity="0.7"/>
      <text x="200" y="22" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#FFFFFF" text-anchor="middle">Intervention Engine</text>
      <rect x="25" y="35" width="110" height="32" rx="4" fill="#5EEAD4"/>
      <text x="80" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#0F766E" text-anchor="middle">Policy Automation</text>
      <rect x="150" y="35" width="110" height="32" rx="4" fill="#5EEAD4"/>
      <text x="205" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#0F766E" text-anchor="middle">Emergency Response</text>
      <rect x="275" y="35" width="100" height="32" rx="4" fill="#5EEAD4"/>
      <text x="325" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#0F766E" text-anchor="middle">Scenario Testing</text>
    </g>
  </g>

  <!-- Foundation: Strategic Documents -->
  <g transform="translate(100, 700)">
    <rect x="0" y="0" width="1000" height="75" rx="8" fill="#F1F5F9" stroke="#E2E8F0" stroke-width="2"/>
    <text x="500" y="22" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="700" fill="#475569" text-anchor="middle">STRATEGIC FOUNDATION</text>
    <rect x="30" y="35" width="180" height="30" rx="4" fill="#CBD5E1"/>
    <text x="120" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#334155">Policy Whitepaper</text>
    <rect x="230" y="35" width="180" height="30" rx="4" fill="#CBD5E1"/>
    <text x="320" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#334155">SAFE Demonstration</text>
    <rect x="430" y="35" width="180" height="30" rx="4" fill="#CBD5E1"/>
    <text x="520" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#334155">Master Positioning</text>
    <rect x="630" y="35" width="180" height="30" rx="4" fill="#CBD5E1"/>
    <text x="720" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#334155">Implementation Summary</text>
    <rect x="830" y="35" width="140" height="30" rx="4" fill="#CBD5E1"/>
    <text x="900" y="55" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#334155">Governance Docs</text>
  </g>

  <!-- Connector Lines -->
  <!-- CSIC to Integration -->
  <path d="M 530 200 L 550 200" stroke="#94A3B8" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>
  <path d="M 530 300 L 550 300" stroke="#94A3B8" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>
  <path d="M 530 400 L 550 400" stroke="#94A3B8" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>

  <!-- Integration to NEAM -->
  <path d="M 690 200 L 710 200" stroke="#94A3B8" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>
  <path d="M 690 300 L 710 300" stroke="#94A3B8" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>
  <path d="M 690 400 L 710 400" stroke="#94A3B8" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead)"/>

  <!-- Bidirectional Data Flow Indicators -->
  <g transform="translate(595, 550)">
    <rect x="0" y="0" width="50" height="25" rx="4" fill="#64748B"/>
    <text x="25" y="17" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">â†” DATA</text>
  </g>
</svg>
