environment: development
service_name: health-monitor
log_level: info

# HTTP Server
http_port: 8081

# Database Configuration (PostgreSQL - shared instance + table prefix)
database_url: postgresql://csic:csic_secret@postgres:5432/csic_platform?sslmode=disable
max_open_conn: 25
max_idle_conn: 5
conn_max_lifetime: 300

# Redis Configuration (key prefix isolation)
redis_addr: redis:6379
redis_password: ""
redis_db: 0

# Kafka Configuration
kafka_brokers: kafka:9092
kafka_consumer_group: health-monitor-group

# Health Monitor Configuration
heartbeat_ttl: 60
health_check_interval: 30
alert_cooldown: 300

# Monitoring Configuration
metrics_enabled: true
metrics_port: 9091
health_check_ttl: 30

# Security Configuration
enable_auth: false
jwt_secret: "your-jwt-secret-key-change-in-production"
allowed_origins: "*"

# Kafka Topics
topics:
  heartbeats: system.heartbeat
  alerts: health-monitor.alerts
  outages: health-monitor.outages

# Alert Thresholds (default)
alerts:
  cpu_threshold_percent: 80
  memory_threshold_percent: 85
  disk_threshold_percent: 90
  latency_threshold_ms: 500
  error_rate_threshold_percent: 5

# Service Discovery
services:
  - name: api-gateway
    health_endpoint: /health
    timeout_ms: 5000
  - name: control-layer
    health_endpoint: /health
    timeout_ms: 5000
  - name: audit-log
    health_endpoint: /health
    timeout_ms: 5000
  - name: compliance
    health_endpoint: /health
    timeout_ms: 5000
