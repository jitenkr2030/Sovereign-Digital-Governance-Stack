# CSIC Platform - Audit Log Service Configuration
# Government-grade immutable audit logging configuration

# Application Settings
app:
  name: "csic-audit-log-service"
  version: "1.0.0"
  environment: "development"  # development, staging, production

# Server Settings
server:
  host: "0.0.0.0"
  port: 8081
  read_timeout: 30      # seconds
  write_timeout: 30     # seconds
  max_body_size: 10485760  # bytes (10MB)

# Audit Log Configuration
audit_log:
  storage_path: "/var/lib/csic/audit-logs"
  seal_interval: 300    # seconds (5 minutes)
  chain_file_path: "/var/lib/csic/audit-chains/chain.json"
  verification_path: "/var/lib/csic/audit-verification"
  retention_days: 2555  # 7 years (compliance requirement)
  enable_worm: true     # Write Once Read Many
  max_file_size: 104857600  # 100MB per file
  entries_per_file: 10000

# Database Configuration (for index/query)
database:
  host: "localhost"
  port: 5432
  username: "csic_user"
  password: "change_in_production"
  name: "csic_audit"
  ssl_mode: "require"
  max_open_conns: 10
  max_idle_conns: 5
  conn_max_lifetime: 300  # seconds

# Redis Configuration (for caching)
redis:
  host: "localhost"
  port: 6379
  password: ""
  db: 1
  pool_size: 5

# Logging Configuration
logging:
  level: "INFO"   # DEBUG, INFO, WARN, ERROR
  format: "json"  # json, text
  output: "stdout"  # stdout, file
  path: "/var/log/csic/audit-log"  # file path if output is file

# Security Configuration
security:
  jwt:
    secret: "change-this-secret-in-production"
    expiry_hours: 8
    algorithm: "HS256"
  rsa_key_size: 4096  # bits for sealer key

# Compliance Settings
compliance:
  standards:
    - "ISO27001"
    - "GDPR"
    - "BaselIII"
    - "FATF"
  signature_algorithm: "RSA-SHA256"
  hash_algorithm: "SHA256"
  chain_link_format: "MerkleTree"

# Kafka Configuration (for real-time event streaming)
kafka:
  brokers:
    - "localhost:9092"
  consumer_group: "csic-audit-log"
  topics:
    events: "csic.events"
    audit: "csic.audit.logs"
  security:
    sasl_mechanism: ""
    tls_enabled: false
